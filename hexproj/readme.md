# ImHex 工程 (hexproj)

本目录包含用于在 [ImHex](https://github.com/WerWolv/ImHex) 中分析、编辑《火影忍者 RPG》GBA ROM 的工程文件。

## 工程说明

| 工程文件 | 用途 | 所需 ROM 文件名 |
|----------|------|-----------------|
| **font_edit.hexproj** | 字体编辑：字模、mapping、二分查找等标注，便于汉化时修改字体数据 | 将 ROM 重命名为 `font_edit`（或 `font_edit.gba`） |
| **original.hexproj** | 原版 ROM 静态分析：包含针对原版 ROM 的静态分析标签，用于阅读与定位 | 将**原版** ROM 重命名为 **`original.gba`** |

## 使用前准备

### font_edit.hexproj（字体编辑）

1. 将 .gba 格式的游戏 ROM 放到本目录。
2. 将该 ROM 文件 **重命名为 `font_edit`**（或 `font_edit.gba`；若 ImHex 提示找不到文件，可尝试无后缀的 `font_edit`）。
3. 用 ImHex 打开 `font_edit.hexproj`，即可加载工程并编辑 ROM 中的字体数据。

### original.hexproj（原版 ROM 静态分析）

1. 将**原版**《火影忍者 RPG》GBA ROM 放到本目录。
2. 将该 ROM 文件 **重命名为 `original.gba`**。
3. 用 ImHex 打开 `original.hexproj`，即可查看针对原版 ROM 的静态分析标签。

## 目录结构示例

```
hexproj/
├── font_edit.hexproj   # 字体编辑工程
├── font_edit.gba           # 字体编辑用 ROM（你放置并重命名，无后缀或 .gba）
├── original.hexproj    # 原版 ROM 静态分析工程
├── original.gba        # 原版 ROM（你放置并重命名为此文件名）
└── readme.md
```

## 工程内包含的标签（书签）

### font_edit.hexproj

在 ImHex 中打开 **font_edit.hexproj** 后，侧边栏会显示以下已标注区域，便于定位字体、映射表与相关代码：

### 8×8 相关
- **原8*8mapping** — 原始 8×8 字模映射
- **迁移后二分查找** — 迁移后的二分查找逻辑
- **迁移后8*8mapping** — 迁移后的 8×8 映射
- **新加8*8mapping** — 新增的 8×8 映射
- **8x16mapping引用** — 8×16 映射的引用
- **新8x8字模入口** / **原8x8字模入口** — 新旧 8×8 字模入口
- **新的8*8长度** — 新 8×8 数据长度

### 8×16 字模与映射
- **原8x16字模** / **新8x16字模** — 原始与新版 8×16 字模
- **原8x16字模引用1** / **原8x16字模引用2** — 原 8×16 字模引用位置
- **新追加8x16字模** — 新追加的 8×16 字模
- **新8x16mapping** — 新 8×16 映射表
- **原8x16 sjis->映射表** — 原 SJIS 到映射表
- **8x16mapping高位** — 8×16 映射高位
- **迁移后8x16函数** — 迁移后的 8×16 相关函数

### 二分查找相关（函数与边界）
- **二分找函数入口** / **二分找函数结束** — 二分查找函数范围
- **二分函数** — 二分查找函数体
- **8x16二分函数入口** / **8x16二分函数结束** — 8×16 二分查找函数范围
- **8x16二分函数** — 8×16 二分查找函数体

### 引用与入口
- **引用mapping地址** — 被引用的 mapping 地址
- **引用mapping地址函数入口** — 引用 mapping 的函数入口
- **原本mapping引用** — 原始 mapping 引用
- **原本CA 26位置** — 原 CA 26 位置

### 其它
- **菜单表大小** — 菜单表大小
- **开始菜单-新游戏(はじめ)** — 开始菜单「新游戏」文本
- **剧情第一句3个字(ここは)** — 剧情第一句 3 字样本（ここは）

上述标签用于在《火影忍者 RPG》ROM 中快速定位字体与映射相关数据，便于汉化与修改。

### original.hexproj

**original.hexproj** 针对**原版 ROM**（需重命名为 `original.gba`），内含静态分析用标签，用于阅读与定位原版数据结构与逻辑，不修改 ROM。

## 说明

- 请确保使用与本工程对应的 GBA 游戏 ROM，否则偏移与数据结构可能不匹配。
- ROM 文件请自行准备，本仓库不包含任何游戏 ROM 内容。
